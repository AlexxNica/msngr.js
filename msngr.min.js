var msngr=msngr||function(){"use strict";var a={},b=function(){var a=Array.prototype.slice.call(arguments,0);this.input=a};return b.version="5.0.0",b.extend=function(c){if(void 0!==c&&null!==c){var d=Object.prototype.toString.call(c);if("[object Function]"===d)return c.apply(this,[b,a])}},Object.defineProperty(b,"debug",{set:function(c){c===!0?b.internal=a:c===!1&&delete b.internal},get:function(){return void 0!==b.internal}}),b}();msngr.extend(function(a,b){"use strict";b.InvalidParametersException=function(b,c){var d={name:"InvalidParametersException",severity:"unrecoverable",message:"Invalid parameters supplied to the {method} method".replace("{method}",b)};return a.is(c).empty||(d.message=d.message+" "+c),d},b.ReservedKeywordsException=function(a){return{name:"ReservedKeywordsException",severity:"unrecoverable",message:"Reserved keyword {keyword} supplied as action.".replace("{keyword}",a)}},b.MangledException=function(a,b){return{name:"MangledException",severity:"unrecoverable",message:"The {variable} was unexpectedly mangled in {method}.".replace("{variable}",a).replace("{method}",b)}}}),msngr.extend(function(a,b){"use strict";var c={arguments:"[object Arguments]","boolean":"[object Boolean]",string:"[object String]",date:"[object Date]",array:"[object Array]",number:"[object Number]",object:"[object Object]","function":"[object Function]",undefined:"[object Undefined]","null":"[object Null]",symbol:"[object Symbol]",promise:"[object Promise]",nodelist:"[object NodeList]"},d={htmlElement:function(a){return 0===a.indexOf("[object HTML")||0===a.indexOf("[object global]")}},e=function(a){return Object.prototype.toString.call(a)},f=function(a,b,f){return f?d[a](e(b)):e(b)===c[a]},g=function(a,b){switch(a){case c.undefined:case c["null"]:return!0;case c.string:return 0===b.trim().length;case c.object:return 0===Object.keys(b).length;case c.array:return 0===b.length;default:return!1}},h=function(a){var b={},h=function(c,d){for(var e in c)c.hasOwnProperty(e)&&!function(c){Object.defineProperty(b,c,{get:function(){for(var b=0;b<a.length;++b)if(!f(c,a[b],d))return!1;return!0}})}(e)};return h(c,!1),h(d,!0),Object.defineProperty(b,"there",{get:function(){for(var b=0;b<a.length;++b)if(void 0===a[b]||null===a[b])return!1;return!0}}),Object.defineProperty(b,"empty",{get:function(){for(var b=0;b<a.length;++b)if(!g(e(a[b]),a[b]))return!1;return!0}}),b};b.types=c,a.is=function(){var a=Array.prototype.slice.call(arguments,0),b=h(a);return b.getType=function(){return Object.prototype.toString.call(a[0])},b.getTypes=function(){for(var b=[],c=0;c<a.length;++c)b.push(Object.prototype.toString.call(a[c]));return b},b},a.is.browser="undefined"!=typeof XMLHttpRequest}),msngr.extend(function(a,b){"use strict";a.deDupeArray=function(a){for(var b={},c=[],d=a.length,e=0;d>e;++e)void 0===b[a[e]]&&(b[a[e]]=!0,c.push(a[e]));return c}}),msngr.extend(function(a,b){"use strict";var c=0,d="Mxxx".replace(/[x]/g,function(){return Math.floor(100*Math.random())});a.id=function(){return++c,d+c},a.uuid=function(){var b=a.now(),c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=(b+16*Math.random())%16|0;return b=Math.floor(b/16),("x"==a?c:3&c|8).toString(16)});return c}}),msngr.extend(function(a,b){"use strict";var c;if("undefined"!=typeof window&&"undefined"!=typeof window.postMessage){var d="__msngr_immediate",e=[];window.addEventListener("message",function(a){a.source===window&&a.data===d&&(a.stopPropagation(),e.length>0&&e.shift()())},!0)}a.immediate=function(b){void 0===c&&(c="undefined"!=typeof setImmediate?setImmediate:"undefined"!=typeof window&&"undefined"!=typeof window.postMessage?function(b){e.push(b),window.postMessage(a.config.get("msngr.immediate").channel,"*")}:function(a){setTimeout(a,0)}),c(b)}}),msngr.extend(function(a,b){"use strict";var c=void 0,d="",e=void 0,f=function(){return performance.now()},g=function(){return process.hrtime()[1]/1e6},h=function(){return Date.now()};a.now=function(b){void 0===c&&("undefined"!=typeof performance?(c=f,d="performance"):"undefined"!=typeof process?(c=g,d="node"):(c=h,d="legacy"));var i=c();return b===!0&&e===i?a.now(b):(e=i,i)}}),msngr.extend(function(a,b){"use strict";a.asyncify=function(b){return a.is(b)["function"]&&(b.async=function(){var c=[].slice.call(arguments),d=c.pop();a.is(d)["function"]&&!function(c,d){a.immediate(function(){try{d.apply(null,[null,b.apply(null,c)])}catch(a){d.apply(null,[a,null])}})}(c,d)}),b}}),msngr.extend(function(a,b){"use strict";var c={};c[b.types.string]=function(a){return a},c[b.types.number]=function(a){return a},c[b.types["boolean"]]=function(a){return a},c[b.types.date]=function(a){var b=new Date;return b.setTime(a.getTime()),b},c[b.types.object]=function(b){var c={};for(var d in b)b.hasOwnProperty(d)&&(c[d]=a.copy(b[d]));return c},c[b.types.array]=function(b){for(var c=[],d=0;d<b.length;d++)c[d]=a.copy(b[d]);return c},c[b.types["function"]]=function(b){var c=b.bind({});for(var d in b)b.hasOwnProperty(d)&&(c[d]=a.copy(b[d]));return c},a.copy=function(b){if(void 0===b||null===b)return b;var d=a.is(b).getType();return void 0!==c[d]?c[d](b):b}}),msngr.extend(function(a,b){"use strict";var c=function(d,e){if(void 0===d||null===d)return e;if(void 0===e||null===e)return d;var f=a.is(d).getType(),g=a.is(e).getType(),h=[b.types.object,b.types["function"],b.types.array],i=[b.types.object,b.types.array];if(-1===h.indexOf(f)||-1===i.indexOf(g))throw b.InvalidParametersException("msngr.merge()","Only objects, arrays or a single function followed by objects can be merged!");if(-1!==[f,g].indexOf(b.types.array)&&(f!==b.types.array||g!==b.types.array))throw b.InvalidParametersException("msngr.merge()","Arrays cannot be merged with objects or functions!");var j=d;if(f===b.types.array&&g===b.types.array)return d.concat(e);for(var k in e)if(e.hasOwnProperty(k)){var l=a.is(e[k]);l.object?(j[k]=j[k]||{},j[k]=c(j[k],e[k])):l.array?(j[k]=j[k]||[],j[k]=j[k].concat(e[k])):j[k]=e[k]}return j};a.merge=function(){var a=Array.prototype.slice.call(arguments,0);if(a.length<=1)return a[0];for(var b=a.shift();a.length>0;)b=c(b,a.shift());return b}}),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=msngr);